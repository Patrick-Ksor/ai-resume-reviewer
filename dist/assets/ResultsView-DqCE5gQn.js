import{d as B,o as H,c as l,b as e,n as j,t as u,B as F,F as w,f as _,h as A,x as g,a as t,i as S,e as M,w as I,g as k,T as E,_ as L,E as q,G as P,H as Y,k as T,I as Z,s as R,p as ee,u as te}from"./index-Dgz2JEFO.js";import{u as se}from"./useGsap-mLCREdgo.js";import{u as oe,i as Q,w as le,t as ne,c as ae,a as ie,b as N,_ as W}from"./FilterPill.vue_vue_type_script_setup_true_lang-BUs5RIlw.js";import{_ as D}from"./BaseSkeleton.vue_vue_type_script_setup_true_lang-ycObIMPY.js";import{_ as O}from"./BaseButton.vue_vue_type_script_setup_true_lang-CRAMmwsf.js";import{u as re}from"./analysis-BZbIM5Kh.js";import{u as de}from"./useToast-C5s0dywv.js";const ce={class:"flex flex-col items-center gap-8 sm:flex-row sm:gap-12"},ue=["width","height"],pe=["cx","cy","r"],ve=["cx","cy","r","stroke","stroke-dasharray","stroke-dashoffset"],xe={class:"absolute inset-0 flex flex-col items-center justify-center"},fe={class:"flex flex-col gap-4 w-full max-w-xs"},he={class:"flex justify-between text-sm"},ge={class:"text-white/60"},me={class:"font-semibold text-white"},ye={class:"h-1.5 w-full bg-surface-600 rounded-full overflow-hidden"},we=B({__name:"AtsScoreRing",props:{score:{},size:{default:200}},setup(o){const a=o,n=A(null),i=A(null),{animateScoreRing:p,animateCounter:r}=se(),h=g(()=>a.size/2*.78),c=g(()=>2*Math.PI*h.value),s=g(()=>a.size/2),d=g(()=>a.size/2),x=g(()=>a.score.overall),$=g(()=>x.value>=80?"#22c55e":x.value>=50?"#eab308":"#ef4444"),z=g(()=>x.value>=80?{text:"Excellent",cls:"text-green-400"}:x.value>=50?{text:"Needs Work",cls:"text-yellow-400"}:{text:"Poor",cls:"text-red-400"}),b=g(()=>[{label:"Formatting",value:a.score.formatting},{label:"Keywords",value:a.score.keywords},{label:"Experience",value:a.score.experience},{label:"Education",value:a.score.education}]);return H(()=>{n.value&&(n.value.style.strokeDashoffset=String(c.value),p(n.value,x.value,c.value)),i.value&&r(i.value,x.value,1.5)}),(f,v)=>(t(),l("div",ce,[e("div",{class:"relative shrink-0 flex items-center justify-center",style:F({width:`${o.size}px`,height:`${o.size}px`})},[(t(),l("svg",{width:o.size,height:o.size,class:"-rotate-90"},[e("circle",{cx:s.value,cy:d.value,r:h.value,fill:"none",stroke:"rgba(255,255,255,0.07)","stroke-width":12},null,8,pe),e("circle",{ref_key:"circleRef",ref:n,cx:s.value,cy:d.value,r:h.value,fill:"none",stroke:$.value,"stroke-width":12,"stroke-linecap":"round","stroke-dasharray":c.value,"stroke-dashoffset":c.value,style:{transition:"none"},class:"drop-shadow-[0_0_8px_currentColor]"},null,8,ve)],8,ue)),e("div",xe,[e("span",{ref_key:"scoreEl",ref:i,class:"text-5xl font-black text-white tabular-nums leading-none"},"0",512),v[0]||(v[0]=e("span",{class:"text-xs text-white/40 mt-1 font-medium uppercase tracking-widest"},"ATS Score",-1)),e("span",{class:j(["text-sm font-semibold mt-1",z.value.cls])},u(z.value.text),3)])],4),e("div",fe,[(t(!0),l(w,null,_(b.value,C=>(t(),l("div",{key:C.label,class:"space-y-1.5"},[e("div",he,[e("span",ge,u(C.label),1),e("span",me,u(C.value),1)]),e("div",ye,[e("div",{class:j(["h-full rounded-full bg-gradient-to-r transition-all duration-1000 ease-out",C.value>=80?"from-green-500 to-emerald-400":C.value>=50?"from-yellow-500 to-amber-400":"from-red-500 to-rose-400"]),style:F({width:`${C.value}%`})},null,6)])]))),128))])]))}}),be={class:"flex h-9 w-9 shrink-0 items-center justify-center rounded-lg bg-surface-600"},ke={class:"w-4 h-4 text-white/60",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},_e=["d"],$e={class:"flex-1 min-w-0"},Ce={class:"flex items-center gap-2 flex-wrap"},je={class:"text-sm font-semibold text-white"},Se={class:"text-xs text-white/40 mt-0.5 capitalize"},Me={key:0,class:"px-4 pb-4 space-y-3"},Ae={class:"text-sm text-white/70 leading-relaxed"},ze={key:0,class:"rounded-lg bg-surface-700 p-3 text-sm text-white/60 italic border-l-2 border-brand-500"},Be=B({__name:"SuggestionCard",props:{suggestion:{}},setup(o){const a=A(!1),n={high:{cls:"bg-red-400/10 text-red-300 border-red-400/20",dot:"bg-red-400"},medium:{cls:"bg-yellow-400/10 text-yellow-300 border-yellow-400/20",dot:"bg-yellow-400"},low:{cls:"bg-green-400/10 text-green-300 border-green-400/20",dot:"bg-green-400"}},i={formatting:"M4 6h16M4 10h16M4 14h10M4 18h6",keywords:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z",experience:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z",education:"M12 14l9-5-9-5-9 5 9 5z M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z",skills:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z",general:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"};return(p,r)=>(t(),l("div",{class:j(["glass-card-hover rounded-xl overflow-hidden transition-all duration-300",a.value?"border-brand-500/30 bg-brand-500/5":""])},[e("button",{type:"button",class:"w-full flex items-start gap-4 p-4 text-left",onClick:r[0]||(r[0]=h=>a.value=!a.value)},[e("div",be,[(t(),l("svg",ke,[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.8",d:i[o.suggestion.category]??i.general},null,8,_e)]))]),e("div",$e,[e("div",Ce,[e("p",je,u(o.suggestion.title),1),e("span",{class:j(["text-xs px-2 py-0.5 rounded-full border font-medium capitalize",n[o.suggestion.priority].cls])},[e("span",{class:j(["inline-block h-1.5 w-1.5 rounded-full mr-1",n[o.suggestion.priority].dot])},null,2),S(" "+u(o.suggestion.priority),1)],2)]),e("p",Se,u(o.suggestion.category),1)]),(t(),l("svg",{class:j(["w-4 h-4 text-white/40 shrink-0 transition-transform duration-300 mt-0.5",{"rotate-180":a.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...r[1]||(r[1]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))]),M(E,{name:"expand"},{default:I(()=>[a.value?(t(),l("div",Me,[r[2]||(r[2]=e("div",{class:"h-px bg-white/[0.06]"},null,-1)),e("p",Ae,u(o.suggestion.description),1),o.suggestion.example?(t(),l("div",ze,u(o.suggestion.example),1)):k("",!0)])):k("",!0)]),_:1})],2))}}),Re=L(Be,[["__scopeId","data-v-ec9c6f8d"]]),Ie=Q?window:void 0,K=Q?window.navigator:void 0;function Te(o){var a;const n=q(o);return(a=n?.$el)!=null?a:n}function J(...o){const a=[],n=()=>{a.forEach(c=>c()),a.length=0},i=(c,s,d,x)=>(c.addEventListener(s,d,x),()=>c.removeEventListener(s,d,x)),p=g(()=>{const c=N(q(o[0])).filter(s=>s!=null);return c.every(s=>typeof s!="string")?c:void 0}),r=le(()=>{var c,s;return[(s=(c=p.value)==null?void 0:c.map(d=>Te(d)))!=null?s:[Ie].filter(d=>d!=null),N(q(p.value?o[1]:o[0])),N(T(p.value?o[2]:o[1])),q(p.value?o[3]:o[2])]},([c,s,d,x])=>{if(n(),!c?.length||!s?.length||!d?.length)return;const $=ie(x)?{...x}:x;a.push(...c.flatMap(z=>s.flatMap(b=>d.map(f=>i(z,b,f,$)))))},{flush:"post"}),h=()=>{r(),n()};return ne(n),h}function qe(){const o=P(!1),a=Y();return a&&H(()=>{o.value=!0},a),o}function X(o){const a=qe();return g(()=>(a.value,!!o()))}function G(o,a={}){const{controls:n=!1,navigator:i=K}=a,p=X(()=>i&&"permissions"in i),r=P(),h=typeof o=="string"?{name:o}:o,c=P(),s=()=>{var x,$;c.value=($=(x=r.value)==null?void 0:x.state)!=null?$:"prompt"};J(r,"change",s,{passive:!0});const d=ae(async()=>{if(p.value){if(!r.value)try{r.value=await i.permissions.query(h)}catch{r.value=void 0}finally{s()}if(n)return Z(r.value)}});return d(),n?{state:c,isSupported:p,query:d}:c}function Pe(o={}){const{navigator:a=K,read:n=!1,source:i,copiedDuring:p=1500,legacy:r=!1}=o,h=X(()=>a&&"clipboard"in a),c=G("clipboard-read"),s=G("clipboard-write"),d=g(()=>h.value||r),x=P(""),$=P(!1),z=oe(()=>$.value=!1,p,{immediate:!1});async function b(){let m=!(h.value&&U(c.value));if(!m)try{x.value=await a.clipboard.readText()}catch{m=!0}m&&(x.value=C())}d.value&&n&&J(["copy","cut"],b,{passive:!0});async function f(m=q(i)){if(d.value&&m!=null){let y=!(h.value&&U(s.value));if(!y)try{await a.clipboard.writeText(m)}catch{y=!0}y&&v(m),x.value=m,$.value=!0,z.start()}}function v(m){const y=document.createElement("textarea");y.value=m??"",y.style.position="absolute",y.style.opacity="0",document.body.appendChild(y),y.select(),document.execCommand("copy"),y.remove()}function C(){var m,y,V;return(V=(y=(m=document?.getSelection)==null?void 0:m.call(document))==null?void 0:y.toString())!=null?V:""}function U(m){return m==="granted"||m==="prompt"}return{isSupported:d,text:x,copied:$,copy:f}}const Ee={class:"glass-card rounded-xl p-5 space-y-4"},Le={class:"flex items-center justify-between"},Ve={class:"text-xs font-medium text-white/40 uppercase tracking-wide"},Ne={class:"flex items-center gap-2"},Fe={class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},We={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"},He={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},Ue={class:"relative min-h-[4rem]"},De={key:"improved",class:"space-y-2"},Oe={class:"text-sm text-white/90 leading-relaxed pl-3.5"},Ge={key:"original",class:"space-y-2"},Qe={class:"text-sm text-white/50 leading-relaxed pl-3.5 line-through decoration-white/20"},Ke={class:"rounded-lg border border-brand-500/20 bg-brand-500/5 px-3 py-2"},Je={class:"text-xs text-brand-300/80 leading-relaxed"},Xe=B({__name:"BulletUpgrade",props:{pair:{}},setup(o){const a=o,n=A(!0),{copy:i,copied:p}=Pe();function r(){n.value=!n.value}function h(){i(a.pair.improved)}return(c,s)=>(t(),l("div",Ee,[e("div",Le,[e("span",Ve,u(o.pair.section),1),e("div",Ne,[e("button",{type:"button",class:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-surface-600 text-xs font-medium text-white/60 hover:text-white hover:bg-surface-500 transition-colors",onClick:r},[s[0]||(s[0]=e("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})],-1)),S(" "+u(n.value?"See original":"See improved"),1)]),e("button",{type:"button",class:j(["flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium transition-all",T(p)?"bg-green-500/15 text-green-400":"bg-surface-600 text-white/60 hover:text-white hover:bg-surface-500"]),onClick:h},[(t(),l("svg",Fe,[T(p)?(t(),l("path",He)):(t(),l("path",We))])),S(" "+u(T(p)?"Copied!":"Copy"),1)],2)])]),e("div",Ue,[M(E,{name:"slide-toggle",mode:"out-in"},{default:I(()=>[n.value?(t(),l("div",De,[s[1]||(s[1]=e("div",{class:"flex items-center gap-2 mb-1"},[e("span",{class:"h-1.5 w-1.5 rounded-full bg-green-400 shrink-0"}),e("span",{class:"text-xs font-semibold text-green-400 uppercase tracking-wide"},"Improved")],-1)),e("p",Oe,u(o.pair.improved),1)])):(t(),l("div",Ge,[s[2]||(s[2]=e("div",{class:"flex items-center gap-2 mb-1"},[e("span",{class:"h-1.5 w-1.5 rounded-full bg-white/30 shrink-0"}),e("span",{class:"text-xs font-semibold text-white/40 uppercase tracking-wide"},"Original")],-1)),e("p",Qe,u(o.pair.original),1)]))]),_:1})]),e("div",Ke,[e("p",Je,[s[3]||(s[3]=e("span",{class:"font-semibold text-brand-300"},"Why: ",-1)),S(u(o.pair.explanation),1)])])]))}}),Ye=L(Xe,[["__scopeId","data-v-f4f8520b"]]),Ze={class:"glass-card-hover rounded-xl p-5 space-y-4 flex flex-col"},et={class:"flex items-start justify-between gap-3"},tt={class:"text-base font-semibold text-white leading-snug"},st={class:"text-sm text-white/60 leading-relaxed line-clamp-2"},ot={class:"flex flex-wrap gap-1.5"},lt={class:"flex items-center justify-between pt-1"},nt={class:"flex items-center gap-1.5 text-xs text-white/40"},at={key:0,class:"rounded-lg bg-surface-700/60 p-3 border border-white/[0.06]"},it={class:"text-sm text-white/60 leading-relaxed"},rt=B({__name:"ProjectCard",props:{project:{}},setup(o){const a=A(!1),n={beginner:{cls:"bg-green-400/10 text-green-300",label:"Beginner"},intermediate:{cls:"bg-yellow-400/10 text-yellow-300",label:"Intermediate"},advanced:{cls:"bg-red-400/10 text-red-300",label:"Advanced"}};return(i,p)=>(t(),l("div",Ze,[e("div",et,[e("h4",tt,u(o.project.title),1),e("span",{class:j(["shrink-0 text-xs px-2.5 py-1 rounded-full font-medium",n[o.project.difficulty].cls])},u(n[o.project.difficulty].label),3)]),e("p",st,u(o.project.description),1),e("div",ot,[(t(!0),l(w,null,_(o.project.techStack,r=>(t(),l("span",{key:r,class:"text-xs px-2.5 py-1 rounded-full bg-brand-500/10 text-brand-300 border border-brand-500/20"},u(r),1))),128))]),e("div",lt,[e("span",nt,[p[1]||(p[1]=e("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),S(" ~"+u(o.project.estimatedHours)+"h ",1)]),e("button",{type:"button",class:"text-xs text-brand-400 hover:text-brand-300 font-medium transition-colors flex items-center gap-1",onClick:p[0]||(p[0]=r=>a.value=!a.value)},[S(u(a.value?"Less":"Why this?")+" ",1),(t(),l("svg",{class:j(["w-3.5 h-3.5 transition-transform",{"rotate-180":a.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...p[2]||(p[2]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))])]),M(E,{name:"expand"},{default:I(()=>[a.value?(t(),l("div",at,[e("p",it,u(o.project.relevanceReason),1)])):k("",!0)]),_:1})]))}}),dt=L(rt,[["__scopeId","data-v-42a6b867"]]),ct={class:"space-y-1.5"},ut={class:"flex justify-between items-center"},pt={class:"text-sm text-white/70"},vt={key:0,class:"text-sm font-semibold text-white"},xt={class:"h-1.5 w-full bg-surface-600 rounded-full overflow-hidden"},ft=B({__name:"RatingBar",props:{label:{},score:{},showScore:{type:Boolean,default:!0}},setup(o){const a=o,n=g(()=>a.score/10*100),i=g(()=>a.score>=7?"from-green-500 to-emerald-400":a.score>=4?"from-yellow-500 to-amber-400":"from-red-500 to-rose-400");return(p,r)=>(t(),l("div",ct,[e("div",ut,[e("span",pt,u(o.label),1),o.showScore?(t(),l("span",vt,u(o.score.toFixed(1))+"/10",1)):k("",!0)]),e("div",xt,[e("div",{class:j(["h-full rounded-full bg-gradient-to-r transition-all duration-1000 ease-out",i.value]),style:F({width:`${n.value}%`})},null,6)])]))}}),ht={class:"space-y-6"},gt={class:"glass-card rounded-2xl p-6 space-y-4"},mt={class:"flex items-center justify-between"},yt={class:"flex items-baseline gap-1"},wt={class:"text-3xl font-black text-white"},bt={class:"text-sm text-white/60 leading-relaxed"},kt={class:"glass-card rounded-2xl p-6 space-y-4"},_t={class:"space-y-4"},$t={class:"text-xs text-white/40 pl-1"},Ct={class:"grid gap-4 sm:grid-cols-2"},jt={class:"glass-card rounded-2xl p-5 space-y-3"},St={class:"space-y-2"},Mt={class:"glass-card rounded-2xl p-5 space-y-3"},At={class:"space-y-2"},zt=B({__name:"PortfolioCritique",props:{critique:{}},setup(o){return(a,n)=>(t(),l("div",ht,[e("div",gt,[e("div",mt,[n[1]||(n[1]=e("h3",{class:"text-base font-semibold text-white"},"Overall Portfolio Score",-1)),e("div",yt,[e("span",wt,u(o.critique.overallScore.toFixed(1)),1),n[0]||(n[0]=e("span",{class:"text-white/40 text-sm"},"/10",-1))])]),e("p",bt,u(o.critique.summary),1)]),e("div",kt,[n[2]||(n[2]=e("h3",{class:"text-sm font-semibold text-white/80 uppercase tracking-wide"},"Breakdown",-1)),e("div",_t,[(t(!0),l(w,null,_(o.critique.criteria,i=>(t(),l("div",{key:i.name,class:"space-y-1"},[M(ft,{label:i.name,score:i.score},null,8,["label","score"]),e("p",$t,u(i.feedback),1)]))),128))])]),e("div",Ct,[e("div",jt,[n[4]||(n[4]=e("h4",{class:"flex items-center gap-2 text-sm font-semibold text-green-400"},[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})]),S(" Strengths ")],-1)),e("ul",St,[(t(!0),l(w,null,_(o.critique.strengths,i=>(t(),l("li",{key:i,class:"flex items-start gap-2 text-sm text-white/70"},[n[3]||(n[3]=e("span",{class:"h-1.5 w-1.5 rounded-full bg-green-400 shrink-0 mt-2"},null,-1)),S(" "+u(i),1)]))),128))])]),e("div",Mt,[n[6]||(n[6]=e("h4",{class:"flex items-center gap-2 text-sm font-semibold text-red-400"},[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})]),S(" Areas to Improve ")],-1)),e("ul",At,[(t(!0),l(w,null,_(o.critique.weaknesses,i=>(t(),l("li",{key:i,class:"flex items-start gap-2 text-sm text-white/70"},[n[5]||(n[5]=e("span",{class:"h-1.5 w-1.5 rounded-full bg-red-400 shrink-0 mt-2"},null,-1)),S(" "+u(i),1)]))),128))])])])]))}}),Bt={class:"space-y-4"},Rt={class:"flex flex-wrap gap-2"},It={class:"space-y-2"},Tt=["onClick"],qt={class:"flex-1 min-w-0"},Pt={class:"text-sm font-medium text-white leading-snug"},Et={class:"text-xs text-white/40 mt-0.5"},Lt={key:0,class:"px-4 pb-4 space-y-3"},Vt={class:"rounded-lg bg-surface-700 p-3 space-y-2"},Nt={class:"text-sm text-white/70 leading-relaxed"},Ft={class:"rounded-lg border border-brand-500/20 bg-brand-500/5 p-3"},Wt={class:"text-sm text-white/70 leading-relaxed"},Ht=B({__name:"InterviewAccordion",props:{questions:{}},setup(o){const a=o,n=A(null),i=A("All"),p=g(()=>["All",...new Set(a.questions.map(s=>s.category))]),r=g(()=>i.value==="All"?a.questions:a.questions.filter(c=>c.category===i.value));function h(c){n.value=n.value===c?null:c}return(c,s)=>(t(),l("div",Bt,[e("div",Rt,[(t(!0),l(w,null,_(p.value,d=>(t(),R(W,{key:d,label:d,active:i.value===d,onClick:x=>{i.value=d,n.value=null}},null,8,["label","active","onClick"]))),128))]),e("div",It,[(t(!0),l(w,null,_(r.value,d=>(t(),l("div",{key:d.id,class:"glass-card-hover rounded-xl overflow-hidden"},[e("button",{type:"button",class:"w-full flex items-start gap-4 p-4 text-left",onClick:x=>h(d.id)},[s[1]||(s[1]=e("span",{class:"flex h-6 w-6 shrink-0 items-center justify-center rounded-full bg-brand-500/15 text-brand-400 mt-0.5"},[e("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("div",qt,[e("p",Pt,u(d.question),1),e("p",Et,u(d.category),1)]),(t(),l("svg",{class:j(["w-4 h-4 text-white/40 shrink-0 transition-transform duration-300 mt-0.5",{"rotate-180":n.value===d.id}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...s[0]||(s[0]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))],8,Tt),M(E,{name:"expand"},{default:I(()=>[n.value===d.id?(t(),l("div",Lt,[s[4]||(s[4]=e("div",{class:"h-px bg-white/[0.06]"},null,-1)),e("div",Vt,[s[2]||(s[2]=e("p",{class:"text-xs font-semibold text-white/50 uppercase tracking-wide"},"Why they ask this",-1)),e("p",Nt,u(d.whyAsked),1)]),e("div",Ft,[s[3]||(s[3]=e("p",{class:"text-xs font-semibold text-brand-400 uppercase tracking-wide mb-1"},"Answer tip",-1)),e("p",Wt,u(d.tipAnswer),1)])])):k("",!0)]),_:2},1024)]))),128))])]))}}),Ut=L(Ht,[["__scopeId","data-v-0b15d24c"]]),Dt={class:"p-6 sm:p-8 max-w-5xl mx-auto space-y-6"},Ot={class:"flex items-start justify-between gap-4 flex-wrap"},Gt={key:0,class:"text-sm text-white/40 mt-1"},Qt={class:"flex gap-3"},Kt={class:"flex gap-1 overflow-x-auto pb-1 scrollbar-hide"},Jt=["onClick"],Xt={key:0,class:"space-y-4"},Yt={class:"glass-card rounded-2xl p-8"},Zt={class:"grid gap-3"},es={key:0,class:"glass-card rounded-2xl p-8"},ts={key:1,class:"text-white/40 text-sm"},ss={key:1,class:"space-y-4"},os={class:"flex flex-wrap gap-2"},ls={key:0,class:"space-y-2"},ns={key:1,class:"glass-card rounded-2xl p-8 text-center text-white/30 text-sm"},as={key:2,class:"space-y-4"},is={key:0,class:"grid gap-4"},rs={key:1,class:"glass-card rounded-2xl p-8 text-center text-white/30 text-sm"},ds={key:3},cs={key:0,class:"grid gap-4 sm:grid-cols-2"},us={key:1,class:"glass-card rounded-2xl p-8 text-center text-white/30 text-sm"},ps={key:4},vs={key:1,class:"glass-card rounded-2xl p-8 text-center"},xs={key:5},fs={key:0},hs={key:1,class:"glass-card rounded-2xl p-8 text-center text-white/30 text-sm"},$s=B({__name:"ResultsView",setup(o){const a=ee(),n=te(),i=re(),p=de(),r=A("ats"),h=A("all"),c=[{key:"ats",label:"ATS Score"},{key:"suggestions",label:"Improvements"},{key:"bullets",label:"Bullet Rewrites"},{key:"projects",label:"Projects"},{key:"portfolio",label:"Portfolio"},{key:"interview",label:"Interview Prep"}];H(async()=>{const b=a.params.id;(!i.current||i.current.id!==b)&&await i.fetchAnalysis(b),i.error&&(p.error("Could not load analysis."),n.push({name:"history"}))});const s=g(()=>i.current),d=g(()=>i.loadingCurrent),x=g(()=>s.value?.suggestions?h.value==="all"?s.value.suggestions:s.value.suggestions.filter(b=>b.category===h.value):[]),$=g(()=>{const b=new Set(s.value?.suggestions?.map(f=>f.category)??[]);return Array.from(b)});async function z(){if(s.value)try{await i.downloadReport(s.value.id,`resume-report-${s.value.id}.pdf`),p.success("Report downloaded!")}catch{p.error("Download failed.")}}return(b,f)=>(t(),l("div",Dt,[e("div",Ot,[e("div",null,[f[3]||(f[3]=e("h1",{class:"text-2xl font-black text-white"},"Analysis Results",-1)),s.value?.resumeFilename?(t(),l("p",Gt,u(s.value.resumeFilename),1)):k("",!0)]),e("div",Qt,[M(O,{variant:"outline",onClick:f[0]||(f[0]=v=>T(n).push({name:"analysis-new"}))},{default:I(()=>[...f[4]||(f[4]=[S(" New Analysis ",-1)])]),_:1}),M(O,{variant:"primary",onClick:z},{"icon-left":I(()=>[...f[5]||(f[5]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})],-1)])]),default:I(()=>[f[6]||(f[6]=S(" Download Report ",-1))]),_:1})])]),e("div",Kt,[(t(),l(w,null,_(c,v=>e("button",{key:v.key,type:"button",class:j(["shrink-0 px-4 py-2 rounded-xl text-sm font-medium transition-all duration-200",r.value===v.key?"bg-brand-500/15 text-brand-300 border border-brand-500/30":"text-white/50 hover:text-white hover:bg-white/[0.05]"]),onClick:C=>r.value=v.key},u(v.label),11,Jt)),64))]),d.value?(t(),l("div",Xt,[e("div",Yt,[M(D,{height:"200px",rounded:"rounded-xl"})]),e("div",Zt,[(t(),l(w,null,_(3,v=>M(D,{key:v,height:"5rem",rounded:"rounded-xl"})),64))])])):s.value?(t(),l(w,{key:1},[r.value==="ats"?(t(),l("div",es,[f[7]||(f[7]=e("h2",{class:"text-base font-semibold text-white mb-8"},"ATS Compatibility Score",-1)),s.value.atsScore?(t(),R(we,{key:0,score:s.value.atsScore,size:220},null,8,["score"])):(t(),l("p",ts,"ATS score not available for this analysis."))])):k("",!0),r.value==="suggestions"?(t(),l("div",ss,[e("div",os,[M(W,{label:"All",count:s.value.suggestions?.length??0,active:h.value==="all",onClick:f[1]||(f[1]=v=>h.value="all")},null,8,["count","active"]),(t(!0),l(w,null,_($.value,v=>(t(),R(W,{key:v,label:v.charAt(0).toUpperCase()+v.slice(1),count:s.value.suggestions?.filter(C=>C.category===v).length,active:h.value===v,onClick:C=>h.value=v},null,8,["label","count","active","onClick"]))),128))]),x.value.length?(t(),l("div",ls,[(t(!0),l(w,null,_(x.value,v=>(t(),R(Re,{key:v.id,suggestion:v},null,8,["suggestion"]))),128))])):(t(),l("p",ns,"No suggestions in this category."))])):k("",!0),r.value==="bullets"?(t(),l("div",as,[s.value.bulletPairs?.length?(t(),l("div",is,[(t(!0),l(w,null,_(s.value.bulletPairs,v=>(t(),R(Ye,{key:v.id,pair:v},null,8,["pair"]))),128))])):(t(),l("p",rs,"No bullet rewrites available."))])):k("",!0),r.value==="projects"?(t(),l("div",ds,[s.value.projectSuggestions?.length?(t(),l("div",cs,[(t(!0),l(w,null,_(s.value.projectSuggestions,v=>(t(),R(dt,{key:v.id,project:v},null,8,["project"]))),128))])):(t(),l("p",us,"No project suggestions available."))])):k("",!0),r.value==="portfolio"?(t(),l("div",ps,[s.value.portfolioCritique?(t(),R(zt,{key:0,critique:s.value.portfolioCritique},null,8,["critique"])):(t(),l("div",vs,[f[8]||(f[8]=e("p",{class:"text-white/30 text-sm"},"No portfolio URL was provided for this analysis.",-1)),e("button",{type:"button",class:"mt-4 text-sm text-brand-400 hover:text-brand-300 transition-colors",onClick:f[2]||(f[2]=v=>T(n).push({name:"analysis-new"}))}," Run a new analysis with portfolio URL â†’ ")]))])):k("",!0),r.value==="interview"?(t(),l("div",xs,[s.value.interviewQuestions?.length?(t(),l("div",fs,[M(Ut,{questions:s.value.interviewQuestions},null,8,["questions"])])):(t(),l("p",hs,"No interview questions available."))])):k("",!0)],64)):k("",!0)]))}});export{$s as default};
//# sourceMappingURL=ResultsView-DqCE5gQn.js.map
