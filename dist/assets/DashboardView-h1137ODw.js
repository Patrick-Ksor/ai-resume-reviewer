import{d as k,o as C,c as i,b as e,y as j,n as g,t as l,g as b,h as B,a,k as r,e as u,w as m,F as w,f as y,j as V,u as H,x as N,r as R,s as z}from"./index-Dgz2JEFO.js";import{u as _}from"./useGsap-mLCREdgo.js";import{_ as x}from"./BaseSkeleton.vue_vue_type_script_setup_true_lang-ycObIMPY.js";import{u as D}from"./analysis-BZbIM5Kh.js";import{u as L}from"./useAuth-1EP6KlsI.js";import"./useToast-C5s0dywv.js";const M={class:"glass-card-hover rounded-2xl p-6 flex flex-col gap-4"},G={class:"flex items-start justify-between"},E={class:"flex h-11 w-11 items-center justify-center rounded-xl bg-brand-500/15"},F={key:0,class:"w-5 h-5 text-brand-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},I=["d"],T={key:0,class:"skeleton h-8 w-24 rounded-lg mb-1"},U={class:"text-sm text-white/50 mt-1"},v=k({__name:"StatCard",props:{label:{},value:{},suffix:{default:""},prefix:{default:""},icon:{},trend:{},loading:{type:Boolean,default:!1}},setup(o){const d=o,n=B(null),{animateCounter:h}=_();return C(()=>{n.value&&!d.loading&&h(n.value,d.value,1.8,d.suffix,d.prefix)}),(f,p)=>(a(),i("div",M,[e("div",G,[e("div",E,[j(f.$slots,"icon",{},()=>[o.icon?(a(),i("svg",F,[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:o.icon},null,8,I)])):b("",!0)])]),o.trend!==void 0?(a(),i("span",{key:0,class:g(["text-xs font-semibold px-2 py-1 rounded-full",o.trend>=0?"text-green-400 bg-green-400/10":"text-red-400 bg-red-400/10"])},l(o.trend>=0?"+":"")+l(o.trend)+"% ",3)):b("",!0)]),e("div",null,[o.loading?(a(),i("div",T)):(a(),i("p",{key:1,ref_key:"valueEl",ref:n,class:"text-3xl font-bold text-white tabular-nums"},l(o.prefix)+l(o.value)+l(o.suffix),513)),e("p",U,l(o.label),1)])]))}}),q={class:"p-6 sm:p-8 max-w-7xl mx-auto space-y-8"},J={class:"flex items-start justify-between gap-4 flex-wrap"},K={class:"text-2xl font-black text-white"},O={class:"grid gap-4 sm:grid-cols-3"},P={class:"dash-card glass-card rounded-2xl overflow-hidden"},Q={class:"px-6 py-4 border-b border-white/[0.06] flex items-center justify-between"},W={key:0,class:"divide-y divide-white/[0.04]"},X={class:"flex-1 space-y-2"},Y={key:1,class:"px-6 py-16 text-center"},Z={key:2,class:"divide-y divide-white/[0.04]"},ee={class:"flex-1 min-w-0"},te={class:"text-sm font-medium text-white truncate group-hover:text-brand-300 transition-colors"},se={class:"text-xs text-white/40 mt-0.5"},oe={class:"dash-card rounded-2xl overflow-hidden bg-gradient-to-br from-brand-600/20 via-surface-700 to-surface-700 border border-brand-500/20 p-8 flex flex-col sm:flex-row items-center gap-6"},ue=k({__name:"DashboardView",setup(o){const d=H(),n=D(),{fullName:h}=L(),{staggerReveal:f}=_();C(async()=>{await n.fetchHistory({limit:5}),f(".dash-card",{delay:.1})});const p=N(()=>{const c=new Date().getHours();return c<12?"Good morning":c<18?"Good afternoon":"Good evening"}),A={completed:"text-green-400 bg-green-400/10",processing:"text-yellow-400 bg-yellow-400/10",pending:"text-white/40 bg-white/5",failed:"text-red-400 bg-red-400/10"};function S(c){return new Date(c).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}return(c,t)=>{const $=R("RouterLink");return a(),i("div",q,[e("div",J,[e("div",null,[e("h1",K,l(p.value)+", "+l(r(h))+" ðŸ‘‹",1),t[4]||(t[4]=e("p",{class:"text-sm text-white/40 mt-1"},"Here's an overview of your resume performance.",-1))]),e("button",{type:"button",class:"px-5 py-2.5 rounded-xl bg-gradient-brand text-white text-sm font-semibold shadow-brand hover:brightness-110 transition-all duration-200",onClick:t[0]||(t[0]=s=>r(d).push({name:"analysis-new"}))}," + New Analysis ")]),e("div",O,[u(v,{class:"dash-card",label:"Latest ATS Score",value:r(n).latestAtsScore??0,loading:r(n).loadingHistory},{icon:m(()=>[...t[5]||(t[5]=[e("svg",{class:"w-5 h-5 text-brand-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.8",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})],-1)])]),_:1},8,["value","loading"]),u(v,{class:"dash-card",label:"Total Analyses",value:r(n).totalAnalyses,loading:r(n).loadingHistory},{icon:m(()=>[...t[6]||(t[6]=[e("svg",{class:"w-5 h-5 text-brand-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.8",d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)])]),_:1},8,["value","loading"]),u(v,{class:"dash-card",label:"Avg. Improvement",value:12,suffix:" pts",trend:8,loading:r(n).loadingHistory},{icon:m(()=>[...t[7]||(t[7]=[e("svg",{class:"w-5 h-5 text-brand-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.8",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})],-1)])]),_:1},8,["loading"])]),e("div",P,[e("div",Q,[t[8]||(t[8]=e("h2",{class:"text-base font-semibold text-white"},"Recent Analyses",-1)),e("button",{type:"button",class:"text-sm text-brand-400 hover:text-brand-300 transition-colors",onClick:t[1]||(t[1]=s=>r(d).push({name:"history"}))}," View all â†’ ")]),r(n).loadingHistory?(a(),i("div",W,[(a(),i(w,null,y(4,s=>e("div",{key:s,class:"px-6 py-4 flex items-center gap-4"},[u(x,{width:"2rem",height:"2rem",rounded:"rounded-full"}),e("div",X,[u(x,{width:"60%",height:"0.875rem"}),u(x,{width:"35%",height:"0.75rem"})]),u(x,{width:"3rem",height:"1.5rem",rounded:"rounded-full"})])),64))])):r(n).history.length?(a(),i("div",Z,[(a(!0),i(w,null,y(r(n).history,s=>(a(),z($,{key:s.id,to:{name:"analysis-results",params:{id:s.id}},class:"px-6 py-4 flex items-center gap-4 hover:bg-white/[0.02] transition-colors group"},{default:m(()=>[e("div",{class:g(["flex h-10 w-10 shrink-0 items-center justify-center rounded-xl text-sm font-bold",(s.atsScore?.overall??0)>=80?"bg-green-400/10 text-green-300":(s.atsScore?.overall??0)>=50?"bg-yellow-400/10 text-yellow-300":"bg-red-400/10 text-red-300"])},l(s.atsScore?.overall??"â€”"),3),e("div",ee,[e("p",te,l(s.resumeFilename??"Resume Analysis"),1),e("p",se,l(S(s.createdAt)),1)]),e("span",{class:g(["text-xs px-2.5 py-1 rounded-full font-medium capitalize",A[s.status]])},l(s.status),3)]),_:2},1032,["to"]))),128))])):(a(),i("div",Y,[t[9]||(t[9]=e("svg",{class:"w-12 h-12 text-white/10 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.2",d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),t[10]||(t[10]=e("p",{class:"text-white/30 text-sm"},"No analyses yet.",-1)),e("button",{type:"button",class:"mt-4 text-sm text-brand-400 hover:text-brand-300 transition-colors",onClick:t[2]||(t[2]=s=>r(d).push({name:"analysis-new"}))}," Create your first analysis â†’ ")]))]),e("div",oe,[t[11]||(t[11]=V('<div class="flex h-16 w-16 shrink-0 items-center justify-center rounded-2xl bg-brand-500/20"><svg class="w-8 h-8 text-brand-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"></path></svg></div><div class="flex-1 text-center sm:text-left"><h3 class="text-lg font-bold text-white">Ready to improve your resume?</h3><p class="text-sm text-white/50 mt-1">Upload your resume and get detailed AI feedback in under 15 seconds.</p></div>',2)),e("button",{type:"button",class:"shrink-0 px-6 py-2.5 rounded-xl bg-gradient-brand text-white text-sm font-semibold shadow-brand hover:brightness-110 transition-all",onClick:t[3]||(t[3]=s=>r(d).push({name:"analysis-new"}))}," Analyze resume ")])])}}});export{ue as default};
//# sourceMappingURL=DashboardView-h1137ODw.js.map
